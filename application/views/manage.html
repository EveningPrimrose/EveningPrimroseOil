<!DOCTYPE html>    
<html lang="en">    
  <head>    
    <title>论文管理</title>  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    

    <link href="/seproject/css/bootstrap.min.css" rel="stylesheet" media="screen">   

    <link href="/seproject/dtree/dtree.css"  rel="stylesheet"  type="text/css" />
    <script type="text/javascript" src="/seproject/dtree/dtree.js"></script>

        <script language="JavaScript">
<!--
function CreateSelect(_FormName,_SName,_SValue,_Ds,_AllOptionStr,ShowType)
{
if (_FormName=="")
_FormName = "all"
var _DsArr = _Ds.split("|")
var _Ds1,_Ds2,_Ds3
var _Ds1 = _DsArr[0]
var _Ds2 = (_DsArr.length>1)?_DsArr[1]:_DsArr[0]
var _Ds3 = (_DsArr.length>2)?_DsArr[2]:_DsArr[0]
var _SNameArr = _SName.split("|")
var _SName1,_SName2,_SName3
var _SName1 = _SNameArr[0]
var _SName2 = (_SNameArr.length>1)?_SNameArr[1]:_SNameArr[0]
var _SName3 = (_SNameArr.length>2)?_SNameArr[2]:_SNameArr[0]
var _SValueArr = _SValue.split("|")
var _SValue1,_SValue2,_SValue3
var _SValue1 = _SValueArr[0]
var _SValue2 = (_SValueArr.length>1)?_SValueArr[1]:_SValueArr[0]
var _SValue3 = (_SValueArr.length>2)?_SValueArr[2]:_SValueArr[0]
if (ShowType==3){
_AllOptionStr = _AllOptionStr.replace(/\(\(/ig,"\(\("+_Ds3+"\^")
_AllOptionStr = _AllOptionStr.replace(/\{\{/ig,"\{\{"+_Ds2+"\(\("+_Ds3+"\*\*")
}
else if(ShowType==2){
_AllOptionStr = _AllOptionStr.replace(/\{\{/ig,"\{\{"+_Ds2+"\(\("+_Ds3+"\*\*")
}
else if(ShowType==1){
_AllOptionStr = _AllOptionStr.replace(/\(\(/ig,"\(\("+_Ds3+"\^")
}
var AllStr = _Ds1 + "{{"+ _Ds2 + "(("+ _Ds3 +"||"+_AllOptionStr
//alert(AllStr)
var _AR0 = AllStr.split("||");
document.writeln("<select name=\"" + _SName1 + "\" size=\"1\" onChange=\""+_SName1+"redirect(this.options.selectedIndex)\">");
for (var i1 = 0;i1 < _AR0.length;i1++)
{
var Area1Str = _AR0[i1];
var _AR10 = Area1Str.split("{{");
var _AR11 = _AR10[0].split("@");
var Tstr1 = _AR11[0];
var Vstr1 = (_AR11.length==2)?_AR11[1]:_AR11[0]
document.writeln("<option value=\""+Vstr1+"\">"+Tstr1+"<\/option>");
}
document.writeln("<\/select>");
document.writeln("<select name=\"" + _SName2 + "\" size=\"1\" onChange=\""+_SName1+"redirect1(this.options.selectedIndex)\">");
var _AR111 = _Ds2.split("@");
var Tstr11 = _AR111[0];
var Vstr11 = (_AR111.length==2)?_AR111[1]:_AR111[0];
document.writeln("<option value=\""+Vstr11+"\">"+Tstr11+"<\/option>");
document.writeln("<\/select>");
document.writeln("<select name=\"" + _SName3 + "\" size=\"1\">");
var _AR222 = _Ds3.split("@");
var Tstr22 = _AR222[0];
var Vstr22 = (_AR222.length==2)?_AR222[1]:_AR222[0];
document.writeln("<option value=\""+Vstr22+"\">"+Tstr22+"<\/option>");
document.writeln("<\/select>");
document.writeln("<S"+"CRIPT LANGUAGE=\"JavaScript\" defer>");
document.writeln("<!--");
document.writeln("var "+_SName1+"NewAllStr = \""+ AllStr +"\"");
document.writeln("var "+_SName1+"_AR0 = "+_SName1+"NewAllStr.split(\"||\");");
document.writeln("var "+_SName1+"groups=document."+ _FormName +"." + _SName1 + ".options.length;");
document.writeln("var "+_SName1+"group=new Array("+_SName1+"groups)");
document.writeln("for (i=0; i<"+_SName1+"groups; i++){");
document.writeln("  "+_SName1+"group[i]=new Array();");
document.writeln("}");
document.writeln("for (var i1 = 0;i1 < "+_SName1+"_AR0.length;i1++){");
document.writeln("  var Area1Str = "+_SName1+"_AR0[i1];");
document.writeln("  var _AR10 = Area1Str.split(\"{{\");");
document.writeln("  var _AR12 = _AR10[1].split(\"**\");");
document.writeln("  for (var i2 = 0;i2 < _AR12.length;i2++){");
document.writeln("      var Area2Str = _AR12[i2];");
document.writeln("      var _AR20 = Area2Str.split(\"((\");");
document.writeln("      var _AR211 = _AR20[0].split(\"@\");");
document.writeln("      var Tstr2 = _AR211[0];");
document.writeln("      var Vstr2 = (_AR211.length==2)?_AR211[1]:_AR211[0];");
document.writeln("      "+_SName1+"group[i1][i2]=new Option(Tstr2,Vstr2);");
document.writeln("  }");
document.writeln("}");
document.writeln("var "+_SName1+"temp = document."+ _FormName +"." + _SName2);
document.writeln("function "+_SName1+"redirect(x){");
document.writeln("  for (m="+_SName1+"temp.options.length-1;m>0;m--)");
document.writeln("  "+_SName1+"temp.options[m]=null;");
document.writeln("  for (i=0;i<"+_SName1+"group[x].length;i++){");
document.writeln("      "+_SName1+"temp.options[i]=new Option("+_SName1+"group[x][i].text,"+_SName1+"group[x][i].value);");
document.writeln("  }");
document.writeln("  "+_SName1+"temp.options[0].selected=true");
document.writeln("  "+_SName1+"redirect1(0)");
document.writeln("}");
document.writeln("var "+_SName1+"Group2s=document."+ _FormName +"." + _SName2 + ".options.length;");
document.writeln("var "+_SName1+"Group2=new Array("+_SName1+"groups);");
document.writeln("for (i=0; i<"+_SName1+"groups; i++){");
document.writeln("  "+_SName1+"Group2[i]=new Array("+_SName1+"group[i].length)");
document.writeln("  for (j=0; j<"+_SName1+"group[i].length; j++){");
document.writeln("      "+_SName1+"Group2[i][j]=new Array()");
document.writeln("  }");
document.writeln("}");
document.writeln("for (var i1 = 0;i1 < "+_SName1+"_AR0.length;i1++){");
document.writeln("  var Area1Str = "+_SName1+"_AR0[i1]");
document.writeln("  var _AR10 = Area1Str.split(\"{{\");");
document.writeln("  var _AR12 = _AR10[1].split(\"**\");");
document.writeln("  for (var i2 = 0;i2 < _AR12.length;i2++){");
document.writeln("      var Area2Str = _AR12[i2]");
document.writeln("      var _AR20 = Area2Str.split(\"((\");");
document.writeln("      _AR212 = _AR20[1].split(\"^\");");
document.writeln("      for (var i3 = 0;i3 < _AR212.length;i3++){");
document.writeln("          Area3Str = _AR212[i3]");
document.writeln("          _AR3 = Area3Str.split(\"@\");");
document.writeln("          Tstr3 = _AR3[0]");
document.writeln("          Vstr3 = (_AR3.length==2)?_AR3[1]:_AR3[0]");
document.writeln("          "+_SName1+"Group2[i1][i2][i3]=new Option(Tstr3,Vstr3);");
document.writeln("      }");
document.writeln("  }");
document.writeln("}");
document.writeln("var "+_SName1+"temp1=document."+ _FormName +"." + _SName3 + "");
document.writeln("function "+_SName1+"redirect1(y){");
document.writeln("  for (m="+_SName1+"temp1.options.length-1;m>0;m--)");
document.writeln("  "+_SName1+"temp1.options[m]=null");
document.writeln("  for (i=0;i<"+_SName1+"Group2[document."+ _FormName +"." + _SName1 + ".options.selectedIndex][y].length;i++){");
document.writeln("      "+_SName1+"temp1.options[i]=new Option("+_SName1+"Group2[document."+ _FormName +"." + _SName1 + ".options.selectedIndex][y][i].text," + _SName1 + "Group2[document."+ _FormName +"." + _SName1 + ".options.selectedIndex][y][i].value)");
document.writeln("  }");
document.writeln("  "+_SName1+"temp1.options[0].selected=true");
document.writeln("}");
document.writeln("\/\/-->");
document.writeln("<\/script>");
document.writeln("<s"+"cript language=\"JavaScript\">");
document.writeln("<!--");
document.writeln("function "+_SName1+"SetValue(){");
document.writeln("  try{");
document.writeln("      if (\""+_SValue1+"\"!=\"\"){");
document.writeln("          document."+ _FormName +"."+_SName1+".value=\""+_SValue1+"\"");
document.writeln("          "+_SName1+"redirect(document."+ _FormName +"."+_SName1+".options.selectedIndex);");
document.writeln("          if (\""+_SValue2+"\"!=\"\"){");
document.writeln("              document."+ _FormName +"."+_SName2+".value=\""+_SValue2+"\"");
document.writeln("              "+_SName1+"redirect1(document."+ _FormName +"."+_SName2+".options.selectedIndex)");
document.writeln("              if (\""+_SValue3+"\"!=\"\")");
document.writeln("                  document."+ _FormName +"."+_SName3+".value=\""+_SValue3+"\"");
document.writeln("          }");
document.writeln("      }");
document.writeln("  }");
document.writeln("  catch(e){");
document.writeln("  }");
document.writeln("}");
document.writeln("window.attachEvent(\"onload\","+_SName1+"SetValue)");
document.writeln("\/\/-->");
document.writeln("<\/script>");
}
//-->
</script>
<script language="JavaScript">


var AllStr2=""
+"基础科学2{{"
+"数学2 ((数学概论2 ^初、高等数学2 ^计算数学^概率论 、数理统计"
+"**物理学 ((理论物理学^声学 ^光学 ^热学与物质分子运动论";


var AllStr1 = ""
+"基础科学{{"
+"数学 ((数学概论 ^初、高等数学 ^计算数学^概率论 、数理统计"
+"**物理学 ((理论物理学^声学 ^光学 ^热学与物质分子运动论"

+"||信息科技{{"
+"计算机硬件技术((电子计算机 ^微型计算机"
+"**计算机软件及计算机应用((程序设计、软件工程^操作系统 ^数据库理论及系统"



</script>





    
  </head>   
  
<body>  
    <nav class="navbar navbar-default navbar-inverse" role="navigation">  
        <div class="collapse navbar-collapse">  
            <a class="navbar-brand" href="/seproject/index.php/user/home">首页</a>  
            <ul class="nav navbar-nav">  
                <li><a href="/seproject/index.php/user/search">论文查询</a></li>  
                <li class="active"><a href="/seproject/index.php/user/manage">论文管理</a></li>  
                <li><a href="/seproject/index.php/user/usermessage"><?php echo $username ?></a></li>  
                <li><a href="/seproject/index.php">退出登录</a></li>  
            </ul>  
        </div>  
    </nav>  
    

    


    <HR WIDTH=100% SIZE=8 ALIGN=LEFT NOSHADE>
    
    <ul id="myTab" class="nav nav-tabs">
        <li class="active"><a href="#home1" data-toggle="tab">论文分类</a></li>
    <li><a href="#home2" data-toggle="tab">论文上传</a></li>
    <li><a href="#home3" data-toggle="tab">论文评分</a></li>
    </ul>


    <div id="myTabContent" class="tab-content">

    <div class="tab-pane fade in active" id="home1">
    <p><center>注：类别定义为三层！</center></p><!--<<biaoqian 1>>-->

    <div class="container">

        <div class="dtree col-sm-4">
        <p><a href="javascript: d.openAll();"><h4>open all</a> | <a href="javascript: d.closeAll();">closs all</h4></a></p>

        <script type="text/javascript">
       
        d = new dTree('d');
        d.add(0,-1,' ');
        <?php foreach ($types as $value) :?>
              d.add("<?php echo $value->typeid?>","<?php echo $value->parenttype?>","<?php echo $value->typename?>",'');
              <?php endforeach ;?>
        
        d.config.folderLinks=false;  
        document.write(d);
        
        </script>
        </div>


            <form class="form-horizontal col-sm-8">
            <fieldset>
                <div id="legend" class="">
                    <legend class="">添加新的类别</legend>
                </div>
            <form action="/seproject/index.php/addtype/addtype1" method="post">
            <div class="row">
                <div class="control-group">
                    <!-- Text input-->
                        <label class="col-sm-2 control-label" for="input01">定义第一类别</label>
                        <div class="col-sm-6 controls">
                                <input placeholder="" class="input-xlarge" type="text" name="typename">
                                <p class="help-block"></p>
                        </div>
                </div>

                <div class="control-group">
                        <label class="control-label"></label>
                    <!-- Button -->
                        <div class="col-sm-2 controls">
                                <button class="btn btn-info" type="submit">添加</button>
                        </div>
                </div>
            </div>
            </form>
        <HR WIDTH=100% SIZE=8 ALIGN=LEFT NOSHADE>
        <form action="/seproject/index.php/addtype/addtype2" method="post">
        <div class="row">
                    <div class="control-group">
                    <!-- Text input-->
                        <label class="col-sm-2 control-label" for="input01">定义第二类别</label>
                        <div class="col-sm-2 controls">
                                <input placeholder="" class="input-xlarge" type="text" name="typename">
                                <p class="help-block"></p>
                        </div>
                    </div>
                
                <div class="control-group">
                    <!-- Select Basic -->
                        <label class="col-sm-2 control-label">父类别</label>
                        <div class="controls">
                            <select class="col-sm-2 input-xlarge" name="parentid">
                        <?php foreach ($types as $value) :?>
                        <?php if ($value->typelevel==1) :?>
                        <option value="<?php echo $value->typeid?>"><?php echo $value->typename?></option>
                    <?php endif;?>
                    <?php endforeach;?>
                    </select>
                        </div>
                    </div>

                <div class="control-group">
                        <label class="control-label"></label>
                    <!-- Button -->
                        <div class="col-sm-2 controls">
                                <button class="btn btn-info"type="submit">添加</button>
                        </div>
                    </div>
        </div>
        </form>
        <HR WIDTH=100% SIZE=8 ALIGN=LEFT NOSHADE>
        <form action="/seproject/index.php/addtype/addtype3" method="post">
        <div class="row">
                    <div class="control-group">
                    <!-- Text input-->
                        <label class="col-sm-2 control-label" for="input01">定义第三类别</label>
                        <div class="col-sm-2 controls">
                                <input placeholder="" class="input-xlarge" type="text" name="typename">
                                <p class="help-block"></p>
                        </div>
                    </div>

                <div class="control-group">
                    <!-- Select Basic -->
                        <label class="col-sm-2 control-label">父类别</label>
                        <div class="controls">
                            <select class="col-sm-2 input-xlarge" name="parentid">
                        <?php foreach ($types as $value) :?>
                        <?php if ($value->typelevel==2) :?>
                        <option value="<?php echo $value->typeid?>">
                            <?php foreach ($types as $pvalue) :?>
                            <?php if (($pvalue->typeid)==($value->parenttype)) :?>
                            <?php echo $pvalue->typename?>
                            <?php echo "-"?>
                        <?php endif;?>
                        <?php endforeach;?>
                        <?php echo $value->typename?></option>
                    <?php endif;?>
                    <?php endforeach;?>
                    </select>
                        </div>
                    </div>

                <div class="control-group">
                        <label class="control-label"></label>
                        <!-- Button -->
                        <div class="col-sm-2 controls">
                                <button class="btn btn-info">添加</button>
                        </div>
                    </div>
        </div>
        </form>
            </fieldset>
        </form>

    </div> 

    </div>

    <div class="tab-pane fade" id="home2">
    
        <form  class="form-horizontal  container"  action='/seproject/index.php/papermanage/upload' method ="post"enctype="multipart/form-data">
      
                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">论文标题</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name ="headline">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">第一作者</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name ="author">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>
                
                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">第二作者</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name ="authortwo">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">第三作者</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name ="authorthree">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>


                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">关键字</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name="keywords">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>


                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">摘要</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name="summary">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">刊物</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name="origin">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">出版年份</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name="year">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                <div class="control-group row">
                    <!-- Text input-->
                        <label class="col-sm-4 control-label" for="input01">出版月份</label>
                        <div class="controls">
                            <input placeholder="" class="col-sm-4 input-xlarge" type="text" name="month">
                            <p class="help-block"></p>
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

                    <div class="control-group row">
                    <!-- Select Basic -->
                        <label class="col-sm-4 control-label">添加所属类别</label>
                        <div class="controls">
                            <select class="col-sm-4 input-xlarge" name ="typeid">
                        <?php foreach ($types as $value) :?>
                        <?php if ($value->typelevel==3) :?>
                        <option value="<?php echo $value->typeid?>">
                            <?php foreach ($types as $pvalue) :?>
                            <?php if (($pvalue->typeid)==($value->parenttype)) :?>
                            

                            <?php foreach ($types as $ppvalue) :?>
                            <?php if (($ppvalue->typeid)==($pvalue->parenttype)) :?>
                            <?php echo $ppvalue->typename?>
                            <?php echo "-"?>
                        <?php endif;?>
                        <?php endforeach;?>

                        <?php echo $pvalue->typename?>
                            <?php echo "-"?>

                        <?php endif;?>
                        <?php endforeach;?>
                        <?php echo $value->typename?></option>
                    <?php endif;?>
                    <?php endforeach;?>
                            </select>
                    </div>
                    </div>

                <div class="control-group row">
                        <label class="col-sm-4 control-label">添加论文</label>
                        <!-- File Upload -->
                        <div class="controls">
                            <input class="col-sm-4 input-file"  type="file" name="upp">
                        </div>
                        <div class="col-sm-4"></div>
                    </div>

 <!--                   <div class="control-group row">
                        <label class="col-sm-4 control-label">所属类别</label>
                        <div class="col-sm-8 controls">
                <script  language="JavaScript">
                    CreateSelect("","S_13|S_23|S_33","","第1类别@|第2类别@|第3类别@",AllStr1,0);
                </script>   
                </div>      
            </div>     -->
            
            <div class="control-group row">
                <div class="col-sm-4"></div>
                <button type="submit"  class="col-sm-4 btn btn-info" >上传</button>
                <div class="col-sm-4"></div>
            </div>
        </form>
 <!--       <form   action='/seproject/index.php/papermanage/uploads' method ="post" enctype="multipart/form-data">
            
                <input  type="file" name="upps"/>
                        


                <input type="submit"  value="submit" >
                



        </form>-->


    </div>

    <div class="tab-pane fade" id="home3">


        <form class="form-inline container" role="form">
        <center>
        <div class="form-group">
                <label class="sr-only">Name</label>
                <p class="form-control-static">待查作者</p>
        </div>
        <div class="form-group">
                <label for="inputname" class="sr-only">Input</label>
                <input type="text" class="form-control" id="inputname" >
        </div>
        
            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal">查询</button>
        </center>

        
        </form> 
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">

        <div class="modal-dialog modal-sm">
                <div class="modal-content">

                <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="myModalLabel">分数如下:</h4>
                </div>
                <div class="modal-body">
                ...
                </div>
                <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>

                </div>
        </div>
        </div>
        </div>

    </div>

   </div>



    <HR WIDTH=100% SIZE=8 ALIGN=LEFT NOSHADE>

      <center>
        <h4>Designed by Nightingale ! 2014.10</h4>
      </center>

    <script src="/seproject/js/jquery-2.1.1.min.js"></script>    
    <script src="/seproject/js/bootstrap.min.js"></script>    

</body>    
</html> 